<!DOCTYPE html>
<html lang="en">

<head>
</head>

<body>

    <script>

        function counterPlay() {
            switch (Math.floor(Math.random() * 3)) {
                case 0:
                    return "rock";
                    break;
                case 1:
                    return "paper";
                    break;
                case 2:
                    return "scissors";
                    break;
            }
        }

        function playerSelection() {
            let user_choice = prompt("Enter Rock, Paper, or Scissors").toLowerCase();
            if (user_choice === "rock" || user_choice === "paper" || user_choice === "scissors") {
                return user_choice;
            } else {
                while (user_choice !== "rock" || user_choice !== "paper" || user_choice !== "scissors") {
                    let user_choice = prompt("Please only enter Rock, Paper, or Scissors").toLowerCase();
                    if (user_choice === "rock" || user_choice === "paper" || user_choice === "scissors") {
                        return user_choice;
                    }

                }
            }
        }

        function getWinner(user_choice, computer_choice) {
            if (user_choice === computer_choice) {
                console.log("It's a tie");
                return "tie";
            } else if (user_choice === "rock" && computer_choice === "paper") {
                console.log("Computer wins! Paper beats Rock");
                return "lose";
            } else if (user_choice === "scissors" && computer_choice === "paper") {
                console.log("You win! Scissors beat Paper");
                return "win";
            } else if (user_choice === "paper" && computer_choice === "rock") {
                console.log("You win! Paper beats Rock");
                return "win";
            } else if (user_choice === "scissors" && computer_choice === "rock") {
                console.log("Computer wins! Rock beats Scissors");
                return "lose";
            } else if (user_choice === "rock" && computer_choice === "scissors") {
                console.log("You win! Rock beats Scissors");
                return "win";
            } else if (user_choice === "paper" && computer_choice === "scissors") {
                console.log("Computer wins! Scissors beat Paper");
                return "lose";
            }
        }

        function playGame() {
            let i;
            let user_score = 0;
            let computer_score = 0;

            for (i = 0; i < 5; i++) {
                console.log("Round " + (i + 1));
                let user_choice = playerSelection();
                let computer_choice = counterPlay();
                console.log("You chose " + user_choice);
                console.log("Computer chose " + computer_choice);

                let result = getWinner(user_choice, computer_choice)

                if (result == "win") {
                    user_score++;
                } else if (result == "lose") {
                    computer_score++;
                } else {
                    user_score;
                }

                console.log("Your score is " + user_score + " and the computer's score is " + computer_score);
            }

            switch (true) {
                case user_score > computer_score:
                    console.log("You win the game! Your final score is " + user_score + " and the computer's final score is " + computer_score);
                    break;

                case computer_score > user_score:
                    console.log("Computer wins the game! Your final score is " + user_score + " and the computer's final score is " + computer_score);
                    break;

                default:
                    console.log("It's a tie! Your final score is " + user_score + " and the computer's final score is " + computer_score);
            }

        }
        playGame();
    </script>

</body>

</html>